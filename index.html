<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTAFastLane - Ultimate GTA 6 Countdown Hub</title>
    <meta name="description" content="Join 50,000+ fans in the ultimate GTA 6 countdown experience! Earn rewards, unlock achievements, and be part of gaming history.">
    <meta name="keywords" content="GTA 6, Grand Theft Auto 6, countdown, community, rewards, achievements, gaming">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00ffa2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GTAFastLane">
    
    <!-- Social Meta Tags -->
    <meta property="og:title" content="GTAFastLane - Ultimate GTA 6 Countdown Hub">
    <meta property="og:description" content="Join 50,000+ fans counting down to GTA 6! Earn rewards, unlock achievements, and be part of gaming history.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/00ffa2/ffffff?text=GTAFastLane">
    <meta property="og:url" content="">
    <meta name="twitter:card" content="summary_large_image">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèéÔ∏è</text></svg>">
    
    <style>
        :root {
            --primary-color: #00ffa2;
            --secondary-color: #ff007c;
            --accent-color: #8a2be2;
            --gold-color: #ffd700;
            --premium-color: #ff6b35;
            --success-color: #2ed573;
            --warning-color: #ffa502;
            --danger-color: #ff4757;
            --text-color: #f5f5f5;
            --bg-color: #0a0a0a;
            --card-bg: #1a1a1a;
            --border-color: #2a2a2a;
            --shadow: 0 4px 25px rgba(0,0,0,0.8);
            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            --gradient-premium: linear-gradient(135deg, var(--gold-color) 0%, var(--premium-color) 100%);
            --gradient-crypto: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(180deg, rgba(10,10,10,0.95) 0%, rgba(20,20,20,0.95) 100%), 
                        url('https://images.pexels.com/photos/2047905/pexels-photo-2047905.jpeg?auto=compress&cs=tinysrgb&w=1920') no-repeat center center fixed;
            background-size: cover;
            color: var(--text-color);
            min-height: 100vh;
            transition: all 0.3s ease;
            font-size: 16px;
            line-height: 1.6;
        }

        .header {
            background: var(--gradient-primary);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 900;
            cursor: pointer;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 10px rgba(255,255,255,0.1); }
            to { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.3); }
        }

        .user-status-container {
            position: absolute;
            top: 1rem;
            left: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .user-status {
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .premium-badge {
            background: var(--gradient-premium);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            animation: pulse 2s infinite;
        }

        .action-buttons {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            flex-direction: column;
        }

        .action-btn {
            background: rgba(255,255,255,0.3);
            border: 2px solid rgba(255,255,255,0.5);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            backdrop-filter: blur(10px);
        }

        .action-btn:hover {
            background: rgba(255,255,255,0.5);
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .countdown-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 1rem;
        }

        .countdown-item {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
            animation: pulse 2s infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .countdown-item:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.25);
        }

        .countdown-number {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: block;
        }

        .countdown-label {
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
            font-weight: 600;
        }

        .live-activity {
            background: rgba(46, 213, 115, 0.1);
            border: 1px solid var(--success-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--success-color);
            margin: 0.5rem auto;
            animation: fadeIn 0.5s ease;
            max-width: 400px;
        }

        .achievement-showcase {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            flex-wrap: wrap;
        }

        .achievement {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-premium);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .achievement:hover {
            transform: scale(1.2);
        }

        .achievement.locked {
            background: rgba(255,255,255,0.1);
            opacity: 0.3;
        }

        .tabs-container {
            background: var(--card-bg);
            border-bottom: 2px solid var(--border-color);
            overflow-x: auto;
            position: sticky;
            top: calc(200px);
            z-index: 90;
            -webkit-overflow-scrolling: touch;
        }

        .tabs {
            display: flex;
            min-width: max-content;
            padding: 0 1rem;
        }

        .tab {
            background: transparent;
            border: none;
            color: var(--text-color);
            padding: 1rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            position: relative;
            min-width: 120px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tab:hover {
            background: rgba(255, 107, 53, 0.1);
            color: var(--primary-color);
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: rgba(255, 107, 53, 0.1);
        }

        .tab.premium::after {
            content: 'üëë';
            font-size: 0.8rem;
        }

        .content-area {
            padding: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .viral-challenge {
            background: var(--gradient-crypto);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .viral-challenge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        .crypto-wallet {
            background: var(--card-bg);
            border: 2px solid var(--gold-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
        }

        .crypto-balance {
            font-size: 2rem;
            font-weight: 800;
            color: var(--gold-color);
            margin: 0.5rem 0;
        }

        .premium-features {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 107, 53, 0.1));
            border: 2px solid var(--gold-color);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            position: relative;
        }

        .premium-features::before {
            content: 'üëë PREMIUM';
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--gradient-premium);
            color: white;
            padding: 0.25rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .mini-game {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
            border: 2px solid var(--accent-color);
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            max-width: 300px;
            margin: 1rem auto;
        }

        .game-cell {
            aspect-ratio: 1;
            background: var(--border-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-cell:hover {
            background: var(--primary-color);
            transform: scale(1.05);
        }

        .referral-system {
            background: var(--gradient-primary);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            text-align: center;
        }

        .referral-code {
            background: rgba(255,255,255,0.2);
            padding: 1rem;
            border-radius: 8px;
            font-family: monospace;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 1rem 0;
            letter-spacing: 2px;
        }

        .social-proof {
            background: rgba(46, 213, 115, 0.1);
            border: 1px solid var(--success-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            font-size: 0.9rem;
            animation: slideIn 0.5s ease;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease;
            max-width: calc(100vw - 40px);
            font-size: 0.9rem;
        }

        .floating-actions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1000;
        }

        .floating-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 20px;
            cursor: pointer;
            box-shadow: var(--shadow);
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .floating-btn.premium {
            background: var(--gradient-premium);
            animation: pulse 2s infinite;
        }

        .section-title {
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-bottom: 1rem;
            color: var(--primary-color);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border-top: 4px solid var(--primary-color);
            cursor: pointer;
        }

        .stat-card:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        }

        .stat-card.premium {
            border-top-color: var(--gold-color);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 107, 53, 0.05));
        }

        .stat-number {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 800;
            color: var(--primary-color);
            display: block;
        }

        .stat-card.premium .stat-number {
            color: var(--gold-color);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--card-bg);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-color);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .header {
                padding: 1rem 0.5rem;
            }

            .user-status-container,
            .action-buttons {
                position: static;
                margin: 0.5rem 0;
            }

            .action-buttons {
                flex-direction: row;
                justify-content: center;
            }

            .countdown-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
                padding: 0 0.5rem;
            }

            .countdown-item {
                padding: 1rem 0.5rem;
            }

            .tabs-container {
                top: 120px;
            }

            .tab {
                padding: 0.75rem 1rem;
                font-size: 0.8rem;
                min-width: 100px;
            }

            .content-area {
                padding: 0.75rem;
            }

            .floating-actions {
                bottom: 10px;
                right: 10px;
            }

            .floating-btn {
                padding: 12px 16px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="user-status-container">
            <div class="user-status">
                <span id="userLevel">Insider</span>
                <span class="premium-badge" style="display: none;" id="premiumBadge">PREMIUM</span>
            </div>
            <div class="user-status">
                XP: <span id="userXP">1,247</span> | Coins: <span id="userCoins">850</span>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="action-btn" onclick="toggleTheme()" aria-label="Toggle theme" id="themeToggle">üåô</button>
            <button class="action-btn" onclick="openAchievements()" aria-label="Achievements">üèÜ</button>
            <button class="action-btn" onclick="openNotifications()" aria-label="Notifications">üîî</button>
            <button class="action-btn" onclick="openWallet()" aria-label="Wallet">üí∞</button>
        </div>
        
        <h1 onclick="triggerEasterEgg()">üèéÔ∏è GTAFastLane</h1>
        
        <div class="live-activity" id="liveActivity">
            üî¥ LIVE: <span id="onlineCount">12,847</span> fans online | Limited event active!
        </div>
        
        <div class="countdown-container" id="countdownContainer">
            <div class="countdown-item" onclick="triggerCountdownReaction()">
                <span class="countdown-number" id="days">277</span>
                <div class="countdown-label">Days</div>
            </div>
            <div class="countdown-item" onclick="triggerCountdownReaction()">
                <span class="countdown-number" id="hours">15</span>
                <div class="countdown-label">Hours</div>
            </div>
            <div class="countdown-item" onclick="triggerCountdownReaction()">
                <span class="countdown-number" id="minutes">42</span>
                <div class="countdown-label">Minutes</div>
            </div>
            <div class="countdown-item" onclick="triggerCountdownReaction()">
                <span class="countdown-number" id="seconds">18</span>
                <div class="countdown-label">Seconds</div>
            </div>
        </div>
        
        <div class="achievement-showcase" id="achievementShowcase">
            <div class="achievement" data-achievement="early-bird" title="Early Bird - Joined in first 1000 users">üê¶</div>
            <div class="achievement" data-achievement="streak-master" title="Streak Master - 30 day check-in streak">üî•</div>
            <div class="achievement locked" data-achievement="prediction-king" title="Prediction King - 10 correct predictions">üëë</div>
            <div class="achievement locked" data-achievement="viral-sharer" title="Viral Sharer - Shared 25 times">üì±</div>
            <div class="achievement locked" data-achievement="crypto-collector" title="Crypto Collector - Own 10 NFTs">üíé</div>
        </div>
    </header>

    <div class="tabs-container">
        <nav class="tabs">
            <button class="tab active" onclick="showTab('home')" data-tab="home">üè† Home</button>
            <button class="tab" onclick="showTab('youtube')" data-tab="youtube">üì∫ YouTube</button>
            <button class="tab" onclick="showTab('rumors')" data-tab="rumors">üî• Rumors</button>
            <button class="tab" onclick="showTab('theories')" data-tab="theories">üß† Theories</button>
            <button class="tab" onclick="showTab('chat')" data-tab="chat">üí¨ Chat</button>
            <button class="tab" onclick="showTab('challenges')" data-tab="challenges">üéØ Challenges</button>
            <button class="tab" onclick="showTab('community')" data-tab="community">üë• Community</button>
            <button class="tab" onclick="showTab('marketplace')" data-tab="marketplace">üõí Shop</button>
            <button class="tab" onclick="showTab('news')" data-tab="news">üì∞ News</button>
            <button class="tab premium" onclick="showTab('premium')" data-tab="premium">üëë Premium</button>
        </nav>
    </div>

    <main class="content-area">
        <!-- Home Tab -->
        <div id="home" class="tab-content active">
            <div class="viral-challenge">
                <h2>üöÄ VIRAL CHALLENGE ACTIVE!</h2>
                <p><strong>Share GTAFastLane and earn 500 coins + exclusive NFT!</strong></p>
                <p>Challenge ends in: <span id="challengeTimer">23:47:12</span></p>
                <button class="floating-btn" style="position: static; margin: 1rem auto; display: flex;" onclick="shareForReward()">
                    üéÅ Share & Earn Rewards
                </button>
                <div class="social-proof">
                    <strong>2,847 people</strong> completed this challenge in the last hour! üî•
                </div>
            </div>

            <div class="referral-system">
                <h3>üí∞ Refer Friends & Earn</h3>
                <p>Each friend earns you <strong>100 coins + 50 XP</strong></p>
                <div class="referral-code" onclick="copyReferralCode()">
                    GTAFL-<span id="userReferralCode">A7B9X2</span>
                </div>
                <small>Click to copy your referral code</small>
                <div style="margin-top: 1rem;">
                    <strong><span id="referralCount">7</span> friends joined</strong> | 
                    Earned: <strong><span id="referralEarnings">700</span> coins</strong>
                </div>
            </div>

            <div class="mini-game">
                <h3>üéÆ Daily Mini-Game: GTA Memory</h3>
                <p>Match the GTA icons to earn coins!</p>
                <div class="game-board" id="memoryGame">
                    <div class="game-cell" onclick="flipCard(0)"></div>
                    <div class="game-cell" onclick="flipCard(1)"></div>
                    <div class="game-cell" onclick="flipCard(2)"></div>
                    <div class="game-cell" onclick="flipCard(3)"></div>
                    <div class="game-cell" onclick="flipCard(4)"></div>
                    <div class="game-cell" onclick="flipCard(5)"></div>
                </div>
                <p>Matches: <span id="gameScore">0</span>/3 | Reward: 50 coins per match</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="totalUsers">52,847</span>
                    <div class="stat-label">Total Members</div>
                </div>
                <div class="stat-card premium">
                    <span class="stat-number" id="premiumUsers">8,234</span>
                    <div class="stat-label">Premium Members</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="todayShares">1,247</span>
                    <div class="stat-label">Shares Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="nftsMinted">15,678</span>
                    <div class="stat-label">NFTs Minted</div>
                </div>
            </div>
        </div>

        <!-- YouTube Tab -->
        <div id="youtube" class="tab-content">
            <h2 class="section-title">üì∫ Latest YouTube Coverage</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="youtubeVideos">0</span>
                    <div class="stat-label">Videos Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="youtubeViews">0</span>
                    <div class="stat-label">Total Views</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="youtubeChannels">0</span>
                    <div class="stat-label">Channels</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="youtubeTrending">3</span>
                    <div class="stat-label">Trending Now</div>
                </div>
            </div>
            <div class="loading" id="youtube-loading">Loading latest YouTube videos...</div>
            <div class="news-grid" id="youtube-content"></div>
        </div>

        <!-- Rumors Tab -->
        <div id="rumors" class="tab-content">
            <h2 class="section-title">üî• Breaking Rumors & Leaks</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="rumorsCount">0</span>
                    <div class="stat-label">Rumors Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="leaksCount">0</span>
                    <div class="stat-label">Verified Leaks</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="sourcesCount">0</span>
                    <div class="stat-label">News Sources</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="credibilityScore">87</span>
                    <div class="stat-label">Avg Credibility</div>
                </div>
            </div>
            
            <div class="prediction-game">
                <h3>üéØ Rumor Credibility Game</h3>
                <p>Rate the credibility of new rumors and earn coins when you're right!</p>
                <div id="rumor-game" class="prediction-options">
                    <div class="prediction-option" onclick="rateRumor(this, 'fake')">
                        <strong>üö´ Fake</strong>
                        <small>Completely fabricated</small>
                    </div>
                    <div class="prediction-option" onclick="rateRumor(this, 'unlikely')">
                        <strong>‚ùì Unlikely</strong>
                        <small>Probably not true</small>
                    </div>
                    <div class="prediction-option" onclick="rateRumor(this, 'possible')">
                        <strong>ü§î Possible</strong>
                        <small>Could be legitimate</small>
                    </div>
                    <div class="prediction-option" onclick="rateRumor(this, 'credible')">
                        <strong>‚úÖ Credible</strong>
                        <small>Highly believable</small>
                    </div>
                </div>
                <button onclick="submitRumorRating()" class="share-button" style="position: static; border-radius: 8px; width: 100%; margin-top: 1rem;">
                    Submit Rating (+15 Coins)
                </button>
            </div>
            
            <div class="loading" id="rumors-loading">Loading latest rumors and leaks...</div>
            <div class="news-grid" id="rumors-content"></div>
        </div>

        <!-- Theories Tab -->
        <div id="theories" class="tab-content">
            <h2 class="section-title">üß† Community Theories</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="theoriesCount">0</span>
                    <div class="stat-label">Theories Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="theoriesUpvotes">0</span>
                    <div class="stat-label">Total Upvotes</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="theoriesComments">0</span>
                    <div class="stat-label">Comments</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="yourTheories">2</span>
                    <div class="stat-label">Your Theories</div>
                </div>
            </div>
            
            <div class="prediction-game">
                <h3>üí° Theory Spotlight</h3>
                <p>Submit your own GTA 6 theory and earn coins based on community votes!</p>
                <textarea id="theory-input" placeholder="Share your GTA 6 theory..." maxlength="500" style="width: 100%; min-height: 100px; padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color); background: var(--bg-color); color: var(--text-color); resize: vertical; margin: 1rem 0;"></textarea>
                <button onclick="submitTheory()" class="share-button" style="position: static; border-radius: 8px; width: 100%;">
                    Submit Theory (+25 Coins)
                </button>
            </div>
            
            <div class="loading" id="theories-loading">Loading community theories...</div>
            <div class="news-grid" id="theories-content"></div>
        </div>

        <!-- Chat Tab -->
        <div id="chat" class="tab-content">
            <h2 class="section-title">üí¨ FastLane Live Chat</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="chatMessages">15,847</span>
                    <div class="stat-label">Messages Today</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="activeChatter">89</span>
                    <div class="stat-label">Active Chatters</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="yourMessages">23</span>
                    <div class="stat-label">Your Messages</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="chatLevel">12</span>
                    <div class="stat-label">Chat Level</div>
                </div>
            </div>
            
            <div class="live-chat">
                <div class="chat-header">
                    <div class="online-indicator"></div>
                    <span>Live Chat</span>
                    <span style="margin-left: auto; font-size: 0.8rem;" id="chatOnlineCount">247 online</span>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-message">
                        <div class="chat-username">ViceCityKing</div>
                        <div class="chat-text">Anyone else think the leaked footage looks too good to be true? ü§î</div>
                    </div>
                    <div class="chat-message">
                        <div class="chat-username">GTAMaster99</div>
                        <div class="chat-text">The physics engine improvements are insane! Can't wait! üöóüí®</div>
                    </div>
                    <div class="chat-message">
                        <div class="chat-username">TheoryExpert</div>
                        <div class="chat-text">I'm calling it now - multiple time periods confirmed! üìÖ</div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." maxlength="200" onkeypress="handleChatKeyPress(event)">
                    <button class="chat-send" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
            
            <div class="prediction-game">
                <h3>üéÆ Chat Challenges</h3>
                <p>Complete chat challenges to earn bonus coins!</p>
                <div class="prediction-options">
                    <div class="prediction-option" id="chat-challenge-1">
                        <strong>üí¨ Social Butterfly</strong>
                        <small>Send 10 messages (3/10)</small>
                        <div class="xp-bar" style="margin-top: 0.5rem;">
                            <div class="xp-fill" style="width: 30%;"></div>
                        </div>
                    </div>
                    <div class="prediction-option" id="chat-challenge-2">
                        <strong>üî• Trending Topic</strong>
                        <small>Start a discussion with 5+ replies</small>
                        <div class="xp-bar" style="margin-top: 0.5rem;">
                            <div class="xp-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Challenges Tab -->
        <div id="challenges" class="tab-content">
            <h2 class="section-title">üéØ Daily Challenges</h2>
            
            <div class="challenge-grid" style="display: grid; gap: 1rem;">
                <div class="stat-card" onclick="completeChallenge('daily-login')">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìÖ</div>
                    <h3>Daily Check-in</h3>
                    <p>Login daily to maintain your streak</p>
                    <div style="color: var(--success-color); margin-top: 0.5rem;">
                        <strong>+50 XP, +25 coins</strong>
                    </div>
                </div>
                
                <div class="stat-card" onclick="completeChallenge('share-countdown')">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì±</div>
                    <h3>Share Countdown</h3>
                    <p>Share your countdown status</p>
                    <div style="color: var(--success-color); margin-top: 0.5rem;">
                        <strong>+100 XP, +75 coins</strong>
                    </div>
                </div>
                
                <div class="stat-card premium" onclick="showPremiumModal()">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üëë</div>
                    <h3>Premium Challenge</h3>
                    <p>Exclusive to premium members</p>
                    <div style="color: var(--gold-color); margin-top: 0.5rem;">
                        <strong>+500 XP, +200 coins, Rare NFT</strong>
                    </div>
                </div>
            </div>
            
            <div class="viral-challenge" style="margin-top: 2rem;">
                <h3>üèÜ Weekly Community Challenge</h3>
                <p><strong>Goal:</strong> Community reaches 100,000 total shares</p>
                <div style="background: rgba(255,255,255,0.2); border-radius: 10px; margin: 1rem 0; overflow: hidden;">
                    <div style="background: var(--gradient-primary); height: 20px; width: 67%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.8rem;">
                        67,234 / 100,000
                    </div>
                </div>
                <p><strong>Community Reward:</strong> Exclusive GTA 6 Character Skin NFT for everyone!</p>
            </div>
        </div>

        <!-- Community Tab -->
        <div id="community" class="tab-content">
            <h2 class="section-title">üë• FastLane Community</h2>
            
            <div class="social-proof">
                <strong>ViceCityKing</strong> just earned the "Prediction Master" achievement! üèÜ
            </div>
            
            <div class="social-proof">
                <strong>GTAFan2024</strong> shared their countdown and earned 100 coins! üí∞
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 2rem 0;">
                <div class="stat-card">
                    <h3>üèÜ Top Contributors</h3>
                    <div style="text-align: left; margin-top: 1rem;">
                        <div style="margin: 0.5rem 0; display: flex; justify-content: space-between;">
                            <span>1. PredictionKing</span>
                            <span style="color: var(--gold-color);">üëë 15,847 XP</span>
                        </div>
                        <div style="margin: 0.5rem 0; display: flex; justify-content: space-between;">
                            <span>2. VirualSharer</span>
                            <span style="color: var(--primary-color);">üì± 12,456 XP</span>
                        </div>
                        <div style="margin: 0.5rem 0; display: flex; justify-content: space-between;">
                            <span>15. You</span>
                            <span style="color: var(--success-color);">üöÄ 1,247 XP</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <h3>üí¨ Live Community Feed</h3>
                    <div style="text-align: left; font-size: 0.9rem; margin-top: 1rem;" id="communityFeed">
                        <div style="margin: 0.5rem 0; opacity: 0.8;">
                            <strong>TheoryExpert:</strong> New leak suggests multiple cities! ü§Ø
                        </div>
                        <div style="margin: 0.5rem 0; opacity: 0.8;">
                            <strong>GTAMaster:</strong> Physics engine looks incredible!
                        </div>
                        <div style="margin: 0.5rem 0; opacity: 0.8;">
                            <strong>FastLaneFan:</strong> 277 days feels like forever üò≠
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Marketplace Tab -->
        <div id="marketplace" class="tab-content">
            <h2 class="section-title">üõí GTAFastLane Shop</h2>
            
            <div class="crypto-wallet">
                <h3>üí∞ Your Wallet</h3>
                <div class="crypto-balance"><span id="walletCoins">850</span> FL Coins</div>
                <div style="font-size: 1.2rem; color: var(--primary-color); margin: 0.5rem 0;">
                    NFTs Owned: <strong><span id="nftsOwned">3</span></strong>
                </div>
                <button class="floating-btn" style="position: static; margin: 0.5rem;" onclick="openWallet()">
                    üíé View NFT Collection
                </button>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div class="stat-card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üöó</div>
                    <h3>GTA 6 Car NFT</h3>
                    <p>Limited edition digital collectible</p>
                    <div style="color: var(--gold-color); font-size: 1.5rem; font-weight: bold; margin: 1rem 0;">
                        500 FL Coins
                    </div>
                    <button class="floating-btn" style="position: static;" onclick="purchaseNFT('car')">
                        üõí Purchase
                    </button>
                </div>
                
                <div class="stat-card premium">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üëë</div>
                    <h3>Premium Status</h3>
                    <p>Unlock exclusive features & content</p>
                    <div style="color: var(--gold-color); font-size: 1.5rem; font-weight: bold; margin: 1rem 0;">
                        $4.99/month
                    </div>
                    <button class="floating-btn premium" style="position: static;" onclick="upgradeToPremium()">
                        ‚ú® Upgrade Now
                    </button>
                </div>
                
                <div class="stat-card">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üéΩ</div>
                    <h3>FastLane Merch</h3>
                    <p>Official GTAFastLane merchandise</p>
                    <div style="color: var(--primary-color); font-size: 1.5rem; font-weight: bold; margin: 1rem 0;">
                        From $19.99
                    </div>
                    <button class="floating-btn" style="position: static;" onclick="openMerchStore()">
                        üõçÔ∏è Shop Merch
                    </button>
                </div>
            </div>
        </div>

        <!-- News Tab -->
        <div id="news" class="tab-content">
            <h2 class="section-title">üì∞ Latest GTA 6 News</h2>
            <div class="loading" id="news-loading">Loading latest news...</div>
            <div id="news-content" style="display: grid; gap: 1rem;"></div>
        </div>

        <!-- Premium Tab -->
        <div id="premium" class="tab-content">
            <div class="premium-features">
                <h2>üëë GTAFastLane Premium</h2>
                <p>Unlock exclusive features and join the elite community of true GTA fans!</p>
                
                <div style="display: grid; gap: 1rem; margin: 2rem 0;">
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
                        <span style="font-size: 2rem;">üöÄ</span>
                        <div>
                            <strong>Early Access News</strong>
                            <p>Get breaking news 24 hours before everyone else</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
                        <span style="font-size: 2rem;">üíé</span>
                        <div>
                            <strong>Exclusive NFT Drops</strong>
                            <p>Premium-only NFT collections and rare digital items</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
                        <span style="font-size: 2rem;">üéØ</span>
                        <div>
                            <strong>Premium Challenges</strong>
                            <p>High-reward challenges with exclusive prizes</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
                        <span style="font-size: 2rem;">üë•</span>
                        <div>
                            <strong>VIP Community Access</strong>
                            <p>Private Discord server and direct developer contact</p>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <button class="floating-btn premium" style="position: static; font-size: 1.2rem; padding: 1rem 2rem;" onclick="upgradeToPremium()">
                        üëë Upgrade to Premium - $4.99/month
                    </button>
                    <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                        7-day free trial ‚Ä¢ Cancel anytime ‚Ä¢ Money-back guarantee
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div id="achievementsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('achievementsModal')">&times;</span>
            <h2>üèÜ Your Achievements</h2>
            <div id="achievementsList"></div>
        </div>
    </div>

    <div id="walletModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('walletModal')">&times;</span>
            <h2>üí∞ Your Digital Wallet</h2>
            <div style="text-align: center;">
                <div class="crypto-balance"><span id="modalCoins">850</span> FL Coins</div>
                <p>NFTs Owned: <strong><span id="modalNFTs">3</span></strong></p>
                <div style="margin: 2rem 0;">
                    <button class="floating-btn" style="position: static; margin: 0.5rem;" onclick="earnCoins()">
                        üéØ Earn More Coins
                    </button>
                    <button class="floating-btn" style="position: static; margin: 0.5rem;" onclick="buyCoins()">
                        üí≥ Buy Coins
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="shareModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('shareModal')">&times;</span>
            <h2>üöÄ Share GTAFastLane</h2>
            <p>Share and earn <strong>50 coins + 25 XP</strong> for each friend who joins!</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 2rem 0;">
                <button class="floating-btn" style="position: static;" onclick="shareToTwitter()">
                    üê¶ Share on Twitter
                </button>
                <button class="floating-btn" style="position: static;" onclick="shareToFacebook()">
                    üìò Share on Facebook
                </button>
                <button class="floating-btn" style="position: static;" onclick="shareToTikTok()">
                    üéµ Share on TikTok
                </button>
                <button class="floating-btn" style="position: static;" onclick="copyShareLink()">
                    üîó Copy Link
                </button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <div class="floating-actions">
        <button class="floating-btn" onclick="openShareModal()">
            üöÄ Share & Earn
        </button>
        <button class="floating-btn premium" onclick="upgradeToPremium()">
            üëë Go Premium
        </button>
    </div>

    <script>
        // Global variables
        let userData = {
            xp: parseInt(localStorage.getItem('gtafl-xp')) || 1247,
            coins: parseInt(localStorage.getItem('gtafl-coins')) || 850,
            level: localStorage.getItem('gtafl-level') || 'Insider',
            isPremium: localStorage.getItem('gtafl-premium') === 'true',
            referralCode: localStorage.getItem('gtafl-referral') || 'A7B9X2',
            nftsOwned: parseInt(localStorage.getItem('gtafl-nfts')) || 3,
            achievements: JSON.parse(localStorage.getItem('gtafl-achievements')) || ['early-bird', 'streak-master'],
            dailyStreak: parseInt(localStorage.getItem('gtafl-streak')) || 15,
            lastLogin: localStorage.getItem('gtafl-last-login'),
            referralCount: parseInt(localStorage.getItem('gtafl-referrals')) || 7
        };

        let memoryGameData = {
            cards: ['üöó', 'üèéÔ∏è', 'üöô', 'üöó', 'üèéÔ∏è', 'üöô'],
            flipped: [],
            matched: [],
            score: 0
        };

        // ===========================================
        // API CONFIGURATION - REPLACE WITH YOUR KEYS
        // ===========================================
        const API_CONFIG = {
            // Get free YouTube API key: https://console.cloud.google.com
            youtube: 'AIzaSyB1Hx3EJD1N_jyJ01E131pUA3RqZvLNOZU',
            
            // Get free News API key: https://newsapi.org/register  
            news: '22ae24fcb78544a1977241e1319d4a0b',
            
            // Reddit doesn't need API key for public posts
            reddit: true
        };

        // Game variables
        let selectedPrediction = null;
        let selectedRumor = null;
        let selectedRumorRating = null;
        let gameScore = 0;
        let gameActive = false;
        let gameSequence = [];
        let playerSequence = [];
        let gameLevel = 1;

        // Initialize app
        function initApp() {
            updateUserInterface();
            startCountdownTimer();
            initMemoryGame();
            loadNews();
            simulateRealTimeActivity();
            
            // Show welcome notification
            setTimeout(() => {
                if (userData.isPremium) {
                    showNotification('üëë Welcome back, Premium member!');
                } else {
                    showNotification('üöÄ Welcome to GTAFastLane! Earn coins and level up!');
                }
            }, 1000);
        }

        // Update user interface
        function updateUserInterface() {
            document.getElementById('userXP').textContent = userData.xp.toLocaleString();
            document.getElementById('userCoins').textContent = userData.coins.toLocaleString();
            document.getElementById('userLevel').textContent = userData.level;
            document.getElementById('walletCoins').textContent = userData.coins.toLocaleString();
            document.getElementById('nftsOwned').textContent = userData.nftsOwned;
            document.getElementById('userReferralCode').textContent = userData.referralCode;
            document.getElementById('referralCount').textContent = userData.referralCount;
            document.getElementById('referralEarnings').textContent = (userData.referralCount * 100).toLocaleString();

            // Update modal values
            document.getElementById('modalCoins').textContent = userData.coins.toLocaleString();
            document.getElementById('modalNFTs').textContent = userData.nftsOwned;

            // Show premium badge if user is premium
            if (userData.isPremium) {
                document.getElementById('premiumBadge').style.display = 'inline-block';
            }

            // Update achievements display
            updateAchievements();
            
            // Save data
            saveUserData();
        }

        // Save user data to localStorage
        function saveUserData() {
            localStorage.setItem('gtafl-xp', userData.xp);
            localStorage.setItem('gtafl-coins', userData.coins);
            localStorage.setItem('gtafl-level', userData.level);
            localStorage.setItem('gtafl-premium', userData.isPremium);
            localStorage.setItem('gtafl-nfts', userData.nftsOwned);
            localStorage.setItem('gtafl-achievements', JSON.stringify(userData.achievements));
            localStorage.setItem('gtafl-referrals', userData.referralCount);
        }

        // Award XP and coins
        function awardRewards(xp, coins, reason = '') {
            userData.xp += xp;
            userData.coins += coins;
            
            updateUserInterface();
            
            if (reason) {
                showNotification(`üéâ +${xp} XP, +${coins} coins: ${reason}`);
            }

            // Check for level up
            checkLevelUp();
            // Check for new achievements
            checkAchievements();
        }

        // Check for level up
        function checkLevelUp() {
            const newLevel = calculateLevel(userData.xp);
            if (newLevel !== userData.level) {
                userData.level = newLevel;
                showNotification(`üéä LEVEL UP! Welcome to ${newLevel} status!`);
                awardRewards(0, 200, 'Level up bonus!');
            }
        }

        // Calculate user level
        function calculateLevel(xp) {
            if (xp >= 10000) return 'Legend';
            if (xp >= 5000) return 'Expert';
            if (xp >= 2000) return 'Insider';
            if (xp >= 500) return 'Fan';
            return 'Newbie';
        }

        // Update achievements
        function updateAchievements() {
            const showcaseContainer = document.getElementById('achievementShowcase');
            const achievements = showcaseContainer.querySelectorAll('.achievement');
            
            achievements.forEach(achievement => {
                const achievementId = achievement.dataset.achievement;
                if (userData.achievements.includes(achievementId)) {
                    achievement.classList.remove('locked');
                } else {
                    achievement.classList.add('locked');
                }
            });
        }

        // Check for new achievements
        function checkAchievements() {
            const newAchievements = [];
            
            if (userData.xp >= 2000 && !userData.achievements.includes('xp-master')) {
                userData.achievements.push('xp-master');
                newAchievements.push('XP Master');
            }
            
            if (userData.coins >= 1000 && !userData.achievements.includes('coin-collector')) {
                userData.achievements.push('coin-collector');
                newAchievements.push('Coin Collector');
            }
            
            if (userData.referralCount >= 10 && !userData.achievements.includes('viral-sharer')) {
                userData.achievements.push('viral-sharer');
                newAchievements.push('Viral Sharer');
            }
            
            newAchievements.forEach(achievement => {
                showNotification(`üèÜ New Achievement: ${achievement}!`);
                awardRewards(100, 50, `Achievement unlocked: ${achievement}`);
            });
            
            updateAchievements();
        }

        // Countdown timer
        function startCountdownTimer() {
            const releaseDate = new Date();
            releaseDate.setDate(releaseDate.getDate() + 277);
            releaseDate.setHours(12, 0, 0, 0); // Set to noon

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = releaseDate.getTime() - now;

                if (distance < 0) {
                    document.getElementById('countdownContainer').innerHTML = 
                        '<div style="text-align: center; width: 100%; font-size: 2rem;">üéâ GTA 6 IS OUT! üéâ</div>';
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Memory game
        function initMemoryGame() {
            shuffleArray(memoryGameData.cards);
            const gameBoard = document.getElementById('memoryGame');
            gameBoard.innerHTML = '';
            
            memoryGameData.cards.forEach((card, index) => {
                const cell = document.createElement('div');
                cell.className = 'game-cell';
                cell.setAttribute('data-index', index);
                cell.addEventListener('click', () => flipCard(index));
                gameBoard.appendChild(cell);
            });
        }

        function flipCard(index) {
            if (memoryGameData.flipped.length >= 2 || 
                memoryGameData.flipped.includes(index) || 
                memoryGameData.matched.includes(index)) {
                return;
            }

            const cell = document.querySelector(`[data-index="${index}"]`);
            cell.textContent = memoryGameData.cards[index];
            memoryGameData.flipped.push(index);

            if (memoryGameData.flipped.length === 2) {
                setTimeout(checkMatch, 1000);
            }
        }

        function checkMatch() {
            const [first, second] = memoryGameData.flipped;
            
            if (memoryGameData.cards[first] === memoryGameData.cards[second]) {
                memoryGameData.matched.push(first, second);
                memoryGameData.score++;
                document.getElementById('gameScore').textContent = memoryGameData.score;
                
                if (memoryGameData.score === 3) {
                    awardRewards(100, 150, 'Memory game completed!');
                    setTimeout(() => {
                        showNotification('üéÆ Perfect! Starting new game...');
                        resetMemoryGame();
                    }, 1500);
                } else {
                    awardRewards(25, 50, 'Memory match!');
                }
            } else {
                const cell1 = document.querySelector(`[data-index="${first}"]`);
                const cell2 = document.querySelector(`[data-index="${second}"]`);
                cell1.textContent = '';
                cell2.textContent = '';
            }

            memoryGameData.flipped = [];
        }

        function resetMemoryGame() {
            memoryGameData.score = 0;
            memoryGameData.flipped = [];
            memoryGameData.matched = [];
            document.getElementById('gameScore').textContent = '0';
            initMemoryGame();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Share functions
        function shareForReward() {
            awardRewards(100, 50, 'Viral sharing bonus!');
            openShareModal();
        }

        function shareToTwitter() {
            const text = `I'm counting down to GTA 6 on GTAFastLane! Only ${document.getElementById('days').textContent} days left! üèéÔ∏èüî• Join me:`;
            const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(window.location.href)}`;
            window.open(url, '_blank');
            awardRewards(50, 25, 'Shared on Twitter!');
            closeModal('shareModal');
        }

        function shareToFacebook() {
            const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
            window.open(url, '_blank');
            awardRewards(50, 25, 'Shared on Facebook!');
            closeModal('shareModal');
        }

        function shareToTikTok() {
            showNotification('üéµ TikTok sharing opens in app! Create your countdown video!');
            awardRewards(75, 40, 'TikTok sharing bonus!');
            closeModal('shareModal');
        }

        function copyShareLink() {
            const referralLink = `${window.location.href}?ref=${userData.referralCode}`;
            navigator.clipboard.writeText(referralLink).then(() => {
                showNotification('üîó Referral link copied! Share it to earn rewards!');
                awardRewards(25, 15, 'Link shared!');
            });
            closeModal('shareModal');
        }

        function copyReferralCode() {
            navigator.clipboard.writeText(`GTAFL-${userData.referralCode}`).then(() => {
                showNotification('üìã Referral code copied!');
            });
        }

        function shareGTAFastLane() {
            awardXP(10, 'Shared GTAFastLane!');
        }

        // ===========================================
        // REAL API DATA FETCHERS
        // ===========================================

        // Fetch Real YouTube Videos
        async function fetchRealYouTubeVideos() {
            const loadingElement = document.getElementById('youtube-loading');
            const contentElement = document.getElementById('youtube-content');
            
            try {
                if (API_CONFIG.youtube === 'YOUR_YOUTUBE_API_KEY_HERE') {
                    throw new Error('API key not configured');
                }

                const response = await fetch(
                    `https://www.googleapis.com/youtube/v3/search?part=snippet&q=GTA+6+leak+news+2025&type=video&order=date&maxResults=12&key=${API_CONFIG.youtube}`
                );
                
                if (!response.ok) throw new Error('YouTube API error');
                
                const data = await response.json();
                loadingElement.style.display = 'none';
                contentElement.innerHTML = '';
                
                document.getElementById('youtubeVideos').textContent = data.items.length;
                document.getElementById('youtubeChannels').textContent = new Set(data.items.map(v => v.snippet.channelTitle)).size;
                
                data.items.forEach(video => {
                    const videoElement = document.createElement('div');
                    videoElement.className = 'news-item';
                    videoElement.innerHTML = `
                        <div class="news-title">üî• ${video.snippet.title}</div>
                        <div class="news-meta">
                            <span>${video.snippet.channelTitle}</span>
                            <span>‚Ä¢</span>
                            <span>${new Date(video.snippet.publishedAt).toLocaleDateString()}</span>
                        </div>
                        <div class="news-content">${video.snippet.description.substring(0, 150)}...</div>
                        <a href="https://youtube.com/watch?v=${video.id.videoId}" target="_blank" class="news-link">
                            Watch Video ‚Üí
                        </a>
                    `;
                    contentElement.appendChild(videoElement);
                });
                
                showNotification('‚úÖ Real YouTube videos loaded!');
                
            } catch (error) {
                console.log('YouTube API error:', error);
                loadingElement.style.display = 'none';
                showDemoYouTubeContent();
            }
        }

        // Fetch Real News Articles (for Rumors tab)
        async function fetchRealRumors() {
            const loadingElement = document.getElementById('rumors-loading');
            const contentElement = document.getElementById('rumors-content');
            
            try {
                if (API_CONFIG.news === 'YOUR_NEWS_API_KEY_HERE') {
                    throw new Error('API key not configured');
                }

                const response = await fetch(
                    `https://newsapi.org/v2/everything?q=GTA+6+leak+OR+"Grand+Theft+Auto+6"+rumor&sortBy=publishedAt&pageSize=15&apiKey=${API_CONFIG.news}`
                );
                
                if (!response.ok) throw new Error('News API error');
                
                const data = await response.json();
                loadingElement.style.display = 'none';
                contentElement.innerHTML = '';
                
                document.getElementById('rumorsCount').textContent = data.articles.length;
                document.getElementById('leaksCount').textContent = Math.floor(data.articles.length * 0.3);
                const sources = new Set(data.articles.map(a => a.source.name));
                document.getElementById('sourcesCount').textContent = sources.size;
                
                data.articles.forEach(article => {
                    const credibility = Math.floor(Math.random() * 40) + 60; // 60-100%
                    const rumorElement = document.createElement('div');
                    rumorElement.className = 'news-item';
                    rumorElement.innerHTML = `
                        <div class="news-title">${article.title}</div>
                        <div class="news-meta">
                            <span>${article.source.name}</span>
                            <span>‚Ä¢</span>
                            <span>${new Date(article.publishedAt).toLocaleDateString()}</span>
                            <span>‚Ä¢</span>
                            <span style="color: ${credibility > 80 ? 'var(--success-color)' : credibility > 60 ? 'var(--warning-color)' : 'var(--danger-color)'}">
                                ${credibility}% credible
                            </span>
                        </div>
                        <div class="news-content">${article.description || 'No description available'}</div>
                        <a href="${article.url}" target="_blank" class="news-link">
                            Read Full Article ‚Üí
                        </a>
                    `;
                    contentElement.appendChild(rumorElement);
                });
                
                showNotification('üî• Real rumors and leaks loaded!');
                
            } catch (error) {
                console.log('News API error:', error);
                loadingElement.style.display = 'none';
                showDemoRumorsContent();
            }
        }

        // Fetch Real Reddit Posts (for Theories tab)
        async function fetchRedditTheories() {
            const loadingElement = document.getElementById('theories-loading');
            const contentElement = document.getElementById('theories-content');
            
            try {
                const response = await fetch('https://www.reddit.com/r/GTA6/hot.json?limit=15');
                
                if (!response.ok) throw new Error('Reddit API error');
                
                const data = await response.json();
                loadingElement.style.display = 'none';
                contentElement.innerHTML = '';
                
                document.getElementById('theoriesCount').textContent = data.data.children.length;
                document.getElementById('theoriesUpvotes').textContent = data.data.children.reduce((sum, post) => sum + post.data.score, 0);
                document.getElementById('theoriesComments').textContent = data.data.children.reduce((sum, post) => sum + post.data.num_comments, 0);
                
                data.data.children.forEach(post => {
                    const postData = post.data;
                    const theoryElement = document.createElement('div');
                    theoryElement.className = 'news-item';
                    theoryElement.innerHTML = `
                        <div class="news-title">${postData.title}</div>
                        <div class="news-meta">
                            <span>r/GTA6</span>
                            <span>‚Ä¢</span>
                            <span>üëç ${postData.score}</span>
                            <span>‚Ä¢</span>
                            <span>üí¨ ${postData.num_comments}</span>
                            <span>‚Ä¢</span>
                            <span>u/${postData.author}</span>
                        </div>
                        <div class="news-content">
                            ${postData.selftext ? postData.selftext.substring(0, 200) + '...' : 'Click to read full discussion'}
                        </div>
                        <a href="https://reddit.com${postData.permalink}" target="_blank" class="news-link">
                            Join Discussion ‚Üí
                        </a>
                    `;
                    contentElement.appendChild(theoryElement);
                });
                
                showNotification('üß† Real Reddit theories loaded!');
                
            } catch (error) {
                console.log('Reddit API error:', error);
                loadingElement.style.display = 'none';
                showDemoTheoriesContent();
            }
        }

        // Demo content functions
        function showDemoYouTubeContent() {
            const contentElement = document.getElementById('youtube-content');
            document.getElementById('youtubeVideos').textContent = '12';
            document.getElementById('youtubeChannels').textContent = '8';
            
            contentElement.innerHTML = `
                <div class="news-item">
                    <div class="news-title">üö® DEMO: GTA 6 Leaked Footage Analysis</div>
                    <div class="news-meta">
                        <span>Demo Gaming Channel</span>
                        <span>‚Ä¢</span>
                        <span>${new Date().toLocaleDateString()}</span>
                    </div>
                    <div class="news-content">This is demo content. Add your YouTube API key to see real videos!</div>
                    <span class="news-link">üîß Setup API Key First</span>
                </div>
            `;
        }

        function showDemoRumorsContent() {
            const contentElement = document.getElementById('rumors-content');
            document.getElementById('rumorsCount').textContent = '15';
            document.getElementById('leaksCount').textContent = '4';
            document.getElementById('sourcesCount').textContent = '8';
            
            contentElement.innerHTML = `
                <div class="news-item">
                    <div class="news-title">DEMO: GTA 6 Map Size Leak</div>
                    <div class="news-meta">
                        <span>Demo Gaming News</span>
                        <span>‚Ä¢</span>
                        <span>${new Date().toLocaleDateString()}</span>
                        <span>‚Ä¢</span>
                        <span style="color: var(--success-color)">85% credible</span>
                    </div>
                    <div class="news-content">This is demo content. Add your News API key to see real rumors!</div>
                    <span class="news-link">üîß Setup API Key First</span>
                </div>
            `;
        }

        function showDemoTheoriesContent() {
            const contentElement = document.getElementById('theories-content');
            document.getElementById('theoriesCount').textContent = '23';
            document.getElementById('theoriesUpvotes').textContent = '1,247';
            document.getElementById('theoriesComments').textContent = '456';
            
            contentElement.innerHTML = `
                <div class="news-item">
                    <div class="news-title">DEMO: Time Period Theory Discussion</div>
                    <div class="news-meta">
                        <span>r/GTA6</span>
                        <span>‚Ä¢</span>
                        <span>üëç 247</span>
                        <span>‚Ä¢</span>
                        <span>üí¨ 89</span>
                    </div>
                    <div class="news-content">This is demo content. Real Reddit discussions will appear here automatically!</div>
                    <span class="news-link">üîß Reddit loads automatically</span>
                </div>
            `;
        }

        // Rumor rating system
        function rateRumor(element, rating) {
            document.querySelectorAll('#rumor-game .prediction-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedRumorRating = rating;
        }

        function submitRumorRating() {
            if (!selectedRumorRating) {
                showNotification('Please rate the rumor first!');
                return;
            }
            
            addCoins(15, 'Rumor rating submitted!');
            addXP(10, 'Rumor analysis!');
            showNotification('Rating recorded! Earn bonus coins when proven right.');
            selectedRumorRating = null;
            
            document.querySelectorAll('#rumor-game .prediction-option').forEach(opt => {
                opt.classList.remove('selected');
            });
        }

        // Theory submission
        function submitTheory() {
            const theoryInput = document.getElementById('theory-input');
            const theory = theoryInput.value.trim();
            
            if (!theory) {
                showNotification('Please write your theory first!');
                return;
            }
            
            if (theory.length < 50) {
                showNotification('Theory too short! Minimum 50 characters.');
                return;
            }
            
            addCoins(25, 'Theory submitted!');
            addXP(20, 'Original theory posted!');
            showNotification('Theory posted! Earn more coins based on community votes.');
            
            theoryInput.value = '';
            
            // Add to theories content
            const contentElement = document.getElementById('theories-content');
            const theoryElement = document.createElement('div');
            theoryElement.className = 'news-item';
            theoryElement.innerHTML = `
                <div class="news-title">üí° Your Theory: ${theory.substring(0, 50)}...</div>
                <div class="news-meta">
                    <span>You</span>
                    <span>‚Ä¢</span>
                    <span>Just now</span>
                    <span>‚Ä¢</span>
                    <span>üëç 0</span>
                </div>
                <div class="news-content">${theory}</div>
            `;
            contentElement.insertBefore(theoryElement, contentElement.firstChild);
        }

        // Chat system
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            if (message.length > 200) {
                showNotification('Message too long! Max 200 characters.');
                return;
            }
            
            const chatMessages = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message';
            messageElement.innerHTML = `
                <div class="chat-username">You</div>
                <div class="chat-text">${message}</div>
            `;
            
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            input.value = '';
            addCoins(2, 'Message sent!');
            addXP(5, 'Chat participation!');
            
            // Update chat challenge progress
            updateChatChallenges();
            
            setTimeout(() => {
                addRandomChatMessage();
            }, 2000 + Math.random() * 3000);
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function addRandomChatMessage() {
            const users = ['ViceCityFan', 'GTAExpert', 'TheoryHunter', 'FastLaneProud', 'LeakMaster', 'RumorHunter'];
            const messages = [
                'Great point! I totally agree! üëç',
                'Has anyone seen the latest analysis?',
                'The countdown is killing me! So hyped! üî•',
                'Vice City is going to be incredible!',
                'This community is amazing! üéâ',
                'Just saw a new leak on Twitter! üëÄ',
                'My theory is getting so many upvotes!',
                'Anyone else think the map will be huge?'
            ];
            
            const chatMessages = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message';
            messageElement.innerHTML = `
                <div class="chat-username">${users[Math.floor(Math.random() * users.length)]}</div>
                <div class="chat-text">${messages[Math.floor(Math.random() * messages.length)]}</div>
            `;
            
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function updateChatChallenges() {
            // Update social butterfly challenge (10 messages)
            let messageCount = parseInt(localStorage.getItem('gtafastlane-messages')) || 0;
            messageCount++;
            localStorage.setItem('gtafastlane-messages', messageCount);
            
            const challenge1 = document.getElementById('chat-challenge-1');
            const progress1 = Math.min(messageCount, 10);
            challenge1.querySelector('small').textContent = `Send 10 messages (${progress1}/10)`;
            challenge1.querySelector('.xp-fill').style.width = `${(progress1 / 10) * 100}%`;
            
            if (progress1 === 10 && !localStorage.getItem('gtafastlane-challenge-1-complete')) {
                localStorage.setItem('gtafastlane-challenge-1-complete', 'true');
                addCoins(50, 'Social Butterfly challenge complete!');
                challenge1.style.background = 'rgba(46, 213, 115, 0.1)';
                challenge1.style.borderColor = 'var(--success-color)';
            }
        }

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            // Load content for specific tabs
            if (tabName === 'youtube') fetchRealYouTubeVideos();
            if (tabName === 'rumors') fetchRealRumors();
            if (tabName === 'theories') fetchRedditTheories();

            awardRewards(2, 1, `Explored ${tabName}`);
        }

        // Challenge completion
        function completeChallenge(challengeType) {
            switch(challengeType) {
                case 'daily-login':
                    if (canClaimDaily()) {
                        claimDailyReward();
                    } else {
                        showNotification('Already claimed today! Come back tomorrow.');
                    }
                    break;
                case 'share-countdown':
                    openShareModal();
                    break;
                default:
                    showNotification('Challenge completed! Check back for more rewards.');
            }
        }

        function canClaimDaily() {
            const today = new Date().toDateString();
            return userData.lastLogin !== today;
        }

        function claimDailyReward() {
            const today = new Date().toDateString();
            userData.lastLogin = today;
            userData.dailyStreak++;
            
            const baseXP = 50;
            const baseCoin = 25;
            const streakBonus = Math.min(userData.dailyStreak, 30) * 2;
            
            awardRewards(baseXP + streakBonus, baseCoin + streakBonus, 
                `Daily check-in! ${userData.dailyStreak} day streak!`);
            
            localStorage.setItem('gtafl-last-login', today);
            localStorage.setItem('gtafl-streak', userData.dailyStreak);
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function openAchievements() {
            openModal('achievementsModal');
        }

        function openWallet() {
            openModal('walletModal');
        }

        function openShareModal() {
            openModal('shareModal');
        }

        function openNotifications() {
            showNotification('üîî Notifications: New achievements available!');
        }

        // Premium features
        function upgradeToPremium() {
            if (userData.isPremium) {
                showNotification('You are already a Premium member! üëë');
                return;
            }
            
            // Simulate premium upgrade
            showNotification('üöÄ Redirecting to premium upgrade...');
            setTimeout(() => {
                userData.isPremium = true;
                updateUserInterface();
                showNotification('üëë Welcome to Premium! Enjoy exclusive features!');
                awardRewards(500, 1000, 'Premium welcome bonus!');
            }, 2000);
        }

        function showPremiumModal() {
            showNotification('üëë Premium feature! Upgrade to access exclusive challenges.');
            setTimeout(() => {
                upgradeToPremium();
            }, 1000);
        }

        // Purchase functions
        function purchaseNFT(type) {
            const cost = 500;
            if (userData.coins >= cost) {
                userData.coins -= cost;
                userData.nftsOwned++;
                updateUserInterface();
                showNotification('üéâ NFT purchased! Check your wallet!');
                awardRewards(100, 0, 'NFT collection bonus!');
            } else {
                showNotification('üí∞ Not enough coins! Earn more through challenges.');
            }
        }

        function openMerchStore() {
            showNotification('üõçÔ∏è Redirecting to official GTAFastLane merch store...');
        }

        function earnCoins() {
            showNotification('üéØ Complete daily challenges and share with friends to earn more coins!');
            closeModal('walletModal');
            showTab('challenges');
        }

        function buyCoins() {
            showNotification('üí≥ Coin purchase system coming soon! For now, earn through gameplay!');
        }

        // Theme toggle
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            
            if (body.style.filter === 'invert(1)') {
                body.style.filter = 'none';
                themeToggle.textContent = 'üåô';
            } else {
                body.style.filter = 'invert(1)';
                themeToggle.textContent = '‚òÄÔ∏è';
            }
            
            awardRewards(5, 2, 'Theme switched!');
        }

        // Easter egg
        let clickCount = 0;
        function triggerEasterEgg() {
            clickCount++;
            if (clickCount >= 10) {
                awardRewards(200, 100, 'Easter egg found! ü•ö');
                showNotification('üéä You found the secret easter egg! Bonus rewards!');
                clickCount = 0;
            }
        }

        // Countdown reactions
        function triggerCountdownReaction() {
            const reactions = ['üéÆ', 'üî•', 'üöó', 'üèéÔ∏è', '‚ö°', 'üéä'];
            const reaction = reactions[Math.floor(Math.random() * reactions.length)];
            
            // Create floating reaction
            const reactionEl = document.createElement('div');
            reactionEl.textContent = reaction;
            reactionEl.style.cssText = `
                position: fixed;
                font-size: 2rem;
                pointer-events: none;
                z-index: 1000;
                left: ${Math.random() * window.innerWidth}px;
                top: ${Math.random() * window.innerHeight}px;
                animation: fadeOut 2s ease-out forwards;
            `;
            
            document.body.appendChild(reactionEl);
            setTimeout(() => reactionEl.remove(), 2000);
            
            awardRewards(1, 1, 'Countdown interaction!');
        }

        // Load news (demo content)
        function loadNews() {
            const newsContent = document.getElementById('news-content');
            const loading = document.getElementById('news-loading');
            
            setTimeout(() => {
                loading.style.display = 'none';
                newsContent.innerHTML = `
                    <div class="stat-card">
                        <h3>üî• EXCLUSIVE: New GTA 6 Leak Suggests Multiple Time Periods</h3>
                        <p style="opacity: 0.8; margin: 0.5rem 0;">Latest insider information points to revolutionary gameplay mechanics spanning different decades of Vice City's history.</p>
                        <div style="color: var(--primary-color); font-weight: bold;">
                            Premium members get full analysis 24 hours early!
                        </div>
                    </div>
                    <div class="stat-card">
                        <h3>üéÆ Rockstar Games Teases New Screenshot</h3>
                        <p style="opacity: 0.8; margin: 0.5rem 0;">The latest official screenshot shows unprecedented detail in character modeling and environmental effects.</p>
                    </div>
                    <div class="stat-card">
                        <h3>üí∞ GTA 6 Pre-orders Break Industry Records</h3>
                        <p style="opacity: 0.8; margin: 0.5rem 0;">Gaming industry analysts report unprecedented pre-order numbers, signaling massive commercial success.</p>
                    </div>
                `;
            }, 1000);
        }

        // Real-time activity simulation
        function simulateRealTimeActivity() {
            const activities = [
                'ViceCityKing earned the "Speed Demon" achievement! üèÜ',
                'GTAFan2024 completed their daily challenge! ‚úÖ',
                'TheoryExpert shared GTAFastLane and earned 50 coins! üí∞',
                'SpeedRacer unlocked a rare NFT! üíé',
                'FastLaneFan reached Expert level! üéä',
                'CriminalMind completed the viral challenge! üöÄ'
            ];
            
            setInterval(() => {
                const activity = activities[Math.floor(Math.random() * activities.length)];
                const proofEl = document.createElement('div');
                proofEl.className = 'social-proof';
                proofEl.textContent = activity;
                
                const feedEl = document.getElementById('communityFeed');
                if (feedEl) {
                    feedEl.insertBefore(proofEl, feedEl.firstChild);
                    if (feedEl.children.length > 5) {
                        feedEl.removeChild(feedEl.lastChild);
                    }
                }
            }, 8000);
            
            // Update online count
            setInterval(() => {
                const baseCount = 12000;
                const variation = Math.floor(Math.random() * 2000);
                const onlineCount = baseCount + variation;
                document.getElementById('onlineCount').textContent = onlineCount.toLocaleString();
            }, 15000);
        }

        // Notification system
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 4000);
        }

        // Add dynamic CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                0% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-50px); }
            }
        `;
        document.head.appendChild(style);

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            initApp();
            
            // Load initial content
            fetchRealYouTubeVideos();
            setTimeout(fetchRealRumors, 1000);
            setTimeout(fetchRedditTheories, 2000);
            
            // Set up periodic updates
            setInterval(fetchRealYouTubeVideos, 300000); // 5 minutes
            setInterval(fetchRealRumors, 600000); // 10 minutes
            setInterval(fetchRedditTheories, 180000); // 3 minutes
            
            // Welcome message
            setTimeout(() => {
                showNotification('üèéÔ∏è Welcome back to FastLane!');
            }, 1000);
        });

        // Handle page visibility for engagement
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden) {
                awardRewards(5, 2, 'Welcome back!');
            }
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>
